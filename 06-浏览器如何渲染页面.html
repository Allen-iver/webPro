<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>06-浏览器如何渲染页面</title>
</head>
<body>
  
  <script>
    /**
      一.从HTML到DOM
      1.字节流解码
      2.输入流预处理
      3.令牌化
      4.构建DOM树

      从CSS到CSSOM
      CSS的解析的过程与HTML解析过程步骤一致,最终也会生成树状解构.
      与 DOM 树不同的是，CSSOM 树的节点具有继承特性，也就是会先继承父节点样式作为当前样式，然后再进行补充或覆盖。

      从DOM到渲染
      有了DOM树和CSSOM树之后,渲染引擎就可以开始生成页面了.

      5.构建渲染树
      这个过程会从DOM树的根节点开始遍历,然后在CSSOM树上找到每个节点对应的样式.

      6.布局
      生成了渲染树之后,就可以进入布局阶段了,布局就是计算元素的大小及位置.
      布局完成之后会输出对应的"盒模型",它会精确地捕获每个元素的确切位置和大小,将所有相对值都转换为屏幕上的绝对像素.

      7.绘制
      绘制过程中的第一步就是遍历布局树,生成绘制记录,然后渲染引擎会根据绘制记录去绘制响相应的内容.绘制过程并不是静态不变的,会跟随页面滚动不断合成新的图形.

      总结:
      浏览器渲染引擎生成页面需要7个步骤: 前面4个步骤是生成DOM树,后面3个步骤是利用DOM树和CSSOM树来渲染页面的过程.
      数据变化的过程为: 字节->字符->令牌->树->页面

      思考题:
      在构建渲染树的时候,渲染引擎需要遍历DOM节点并从CSSOM树中找到匹配的样式规则,在匹配过程中是通过自上而下还是自下而上的方式呢? 为什么?
      答: 浏览器进行CSS选择器匹配时,是从右向左进行的,所以可以推知是自下而上的;
      
    */


  </script>

</body>
</html>